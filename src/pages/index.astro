---
import { db, category, product, brand } from "astro:db";
import Layout from "@/layouts/client/base.astro";

const categories = await db.select().from(category);
const products = await db.select().from(product);
const brands = await db.select().from(brand);
---

<Layout title="Astro Mini CMS template">
  <div class="flex flex-col items-center justify-center mt-10">
    <h1 class="font-semibold text-2xl">Astro Mini CMS template</h1>
    <p>this is a simple astro template.</p>

    <a href="/admin" class="hover:underline">visit the admin</a>

    <section class="flex gap-8 mt-10">
      <div class="flex flex-col gap-4">
        <h2>Categories</h2>
        <pre>{JSON.stringify(categories, null, 2)}</pre>
      </div>

      <div class="flex flex-col gap-4">
        <h2>Brands</h2>
        <pre>{JSON.stringify(brands, null, 2)}</pre>
      </div>

      <div class="flex flex-col gap-4">
        <h2>Products</h2>
        <pre>{JSON.stringify(products, null, 2)}</pre>
      </div>
    </section>
  </div>
</Layout>
